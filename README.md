# Video Subtitle Tool

è‡ªå‹•åŒ–å½±ç‰‡å­—å¹•è™•ç†å·¥å…· - æ”¯æ´ YouTube ä¸‹è¼‰ã€Whisper è½‰éŒ„ã€Gemini AI æ ¡æ­£/ç¿»è­¯ã€FFmpeg åµŒå…¥å­—å¹•

## åŠŸèƒ½ç‰¹è‰²

- ğŸ¬ **YouTube å½±ç‰‡ä¸‹è¼‰** - ä½¿ç”¨ yt-dlp ä¸‹è¼‰ YouTube å½±ç‰‡
- ğŸ¤ **è‡ªå‹•å­—å¹•è½‰éŒ„** - ä½¿ç”¨ OpenAI Whisper é€²è¡ŒèªéŸ³è½‰æ–‡å­—
- ğŸ¤– **AI æ™ºèƒ½æ ¡æ­£/ç¿»è­¯** - ä½¿ç”¨ Google Gemini AI æ ¡æ­£éŒ¯åˆ¥å­—æˆ–ç¿»è­¯å­—å¹•
- âš¡ **å¹³è¡Œè™•ç†** - è‡ªå‹•åˆ†æ®µä¸¦å¹³è¡Œè™•ç†ï¼Œå¤§å¹…æå‡é€Ÿåº¦
- ğŸ”§ **è‡ªå‹•æ ¼å¼ä¿®æ­£** - è‡ªå‹•ä¿®æ­£ SRT æ™‚é–“æˆ³æ ¼å¼éŒ¯èª¤
- ğŸ“Š **è©³ç´°çµ±è¨ˆè³‡è¨Š** - é¡¯ç¤º token ä½¿ç”¨é‡ã€è™•ç†é€²åº¦ç­‰
- ğŸ¯ **æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶** - é‡åˆ° token é™åˆ¶è‡ªå‹•åˆ‡åˆ†é‡è©¦

## å®‰è£

### 1. å…‹éš†å€‰åº«

```bash
git clone https://github.com/yourusername/video-subtitle.git
cd video-subtitle
```

### 2. å®‰è£ä¾è³´

```bash
pip install -r requirements.txt
```

æ‰€æœ‰ä¾è³´ï¼ˆåŒ…æ‹¬ FFmpegï¼‰éƒ½æœƒè‡ªå‹•å®‰è£ï¼Œç„¡éœ€æ‰‹å‹•å®‰è£é¡å¤–è»Ÿé«”ï¼

### 3. å–å¾— Gemini API Key

å‰å¾€ [Google AI Studio](https://makersuite.google.com/app/apikey) å–å¾—å…è²»çš„ API key

## ä½¿ç”¨æ–¹å¼

### å®Œæ•´æµç¨‹ï¼šè™•ç† YouTube å½±ç‰‡ä¸¦ç¿»è­¯

```bash
python video_subtitle_tool.py \
  --youtube "https://www.youtube.com/watch?v=xxxxx" \
  --api-key "YOUR_GEMINI_API_KEY" \
  --translate zh-TW
```

### è™•ç†æœ¬åœ°å½±ç‰‡

```bash
python video_subtitle_tool.py \
  --video "./video.mp4" \
  --api-key "YOUR_API_KEY" \
  --source-lang en \
  --translate zh-TW
```

### åƒ…æ ¡æ­£ç¾æœ‰å­—å¹•ä¸¦åµŒå…¥å½±ç‰‡

```bash
python video_subtitle_tool.py \
  --video "./video.mp4" \
  --subtitle "./video.srt" \
  --api-key "YOUR_API_KEY"
```

### ç´”å­—å¹•åµŒå…¥ï¼ˆä¸ä½¿ç”¨ AIï¼‰

```bash
python video_subtitle_tool.py \
  --video "./video.mp4" \
  --subtitle "./video_translated.srt" \
  --only-embed
```

## å‘½ä»¤åˆ—åƒæ•¸

### è¼¸å…¥ä¾†æº
- `--youtube, -y` - YouTube å½±ç‰‡ç¶²å€
- `--video, -v` - æœ¬åœ°å½±ç‰‡æª”æ¡ˆè·¯å¾‘

### API è¨­å®š
- `--api-key, -k` - Gemini API é‡‘é‘°ï¼ˆä½¿ç”¨ --only-embed æ™‚ä¸éœ€è¦ï¼‰
- `--gemini-model, -gm` - Gemini æ¨¡å‹åç¨±ï¼ˆé è¨­: gemini-2.5-flashï¼‰

### èªè¨€è¨­å®š
- `--source-lang, -sl` - å½±ç‰‡çš„åŸå§‹èªè¨€ï¼ˆé è¨­: zhï¼Œå¯ç”¨ auto è‡ªå‹•åµæ¸¬ï¼‰
- `--translate, -t` - ç¿»è­¯æˆç›®æ¨™èªè¨€ï¼ˆä¾‹å¦‚: en, ja, ko, zh-TWï¼‰

### Whisper è¨­å®š
- `--whisper-model, -w` - Whisper æ¨¡å‹å¤§å°ï¼ˆtiny/base/small/medium/largeï¼Œé è¨­: baseï¼‰

### AI æ ¡æ­£è¨­å®š
- `--prompt, -p` - è‡ªå®šç¾© AI æ ¡æ­£æç¤ºè©
- `--context, -c` - é¡å¤–çš„ä¸Šä¸‹æ–‡è³‡è¨Š
- `--skip-correction, -s` - è·³é AI å­—å¹•æ ¡æ­£

### å…¶ä»–é¸é …
- `--subtitle, -sub` - ç¾æœ‰å­—å¹•æª”æ¡ˆè·¯å¾‘ï¼ˆæä¾›æ­¤é¸é …å°‡è·³éä¸‹è¼‰å’Œè½‰éŒ„æ­¥é©Ÿï¼‰
- `--only-embed, -oe` - åƒ…åŸ·è¡Œå­—å¹•åµŒå…¥ï¼ˆéœ€è¦åŒæ™‚æä¾› --video å’Œ --subtitleï¼‰

## æ”¯æ´çš„èªè¨€ä»£ç¢¼

- `zh` / `zh-TW` - ç¹é«”ä¸­æ–‡
- `zh-CN` - ç°¡é«”ä¸­æ–‡
- `en` - è‹±æ–‡
- `ja` - æ—¥æ–‡
- `ko` - éŸ“æ–‡
- `es` - è¥¿ç­ç‰™æ–‡
- `fr` - æ³•æ–‡
- `de` - å¾·æ–‡
- `it` - ç¾©å¤§åˆ©æ–‡
- `pt` - è‘¡è„ç‰™æ–‡
- `ru` - ä¿„æ–‡
- `ar` - é˜¿æ‹‰ä¼¯æ–‡
- `th` - æ³°æ–‡
- `vi` - è¶Šå—æ–‡
- `auto` - è‡ªå‹•åµæ¸¬

## å¯ç”¨çš„ Gemini æ¨¡å‹

- `gemini-2.5-flash` - æ¨è–¦ï¼Œæ€§åƒ¹æ¯”æœ€é«˜ï¼ˆé è¨­ï¼‰
- `gemini-2.5-flash-lite` - æœ€å¿«ï¼Œæˆæœ¬æœ€ä½
- `gemini-2.5-pro` - æœ€å¼·å¤§ï¼Œæ€è€ƒèƒ½åŠ›æœ€å¥½
- `gemini-2.0-flash` - ç¬¬äºŒä»£ï¼Œé•·ä¸Šä¸‹æ–‡

## é€²éšåŠŸèƒ½

### å¹³è¡Œè™•ç†

å·¥å…·æœƒè‡ªå‹•æ ¹æ“šæ¨¡å‹çš„ rate limit é€²è¡Œå¹³è¡Œè™•ç†ï¼š
- gemini-2.5-flash: 10 RPM
- gemini-2.5-pro: 5 RPM
- gemini-2.5-flash-lite: 15 RPM

### æ™ºèƒ½é‡è©¦

ç•¶é‡åˆ° token é™åˆ¶æ™‚ï¼Œæœƒè‡ªå‹•å°‡ç‰‡æ®µåˆ‡åˆ†æˆæ›´å°çš„éƒ¨åˆ†ä¸¦é‡è©¦ï¼Œç¢ºä¿è™•ç†æˆåŠŸã€‚

### ä¸­æ–‡å­—å¹•æ¨™é»ç¬¦è™Ÿè¦ç¯„

ç¿»è­¯æˆä¸­æ–‡æ™‚ï¼Œæœƒè‡ªå‹•éµå®ˆä¸­æ–‡å­—å¹•ç¿’æ…£ï¼š
- å¥å°¾é€šå¸¸ä¸åŠ æ¨™é»ç¬¦è™Ÿ
- ç–‘å•å¥ä¿ç•™å•è™Ÿï¼ˆï¼Ÿï¼‰
- æ„Ÿå˜†å¥ä¿ç•™é©šå˜†è™Ÿï¼ˆï¼ï¼‰

## å°ˆæ¡ˆçµæ§‹

```
video-subtitle/
â”œâ”€â”€ video_subtitle_tool.py  # ä¸»ç¨‹å¼
â”œâ”€â”€ requirements.txt        # Python ä¾è³´
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ README.md              # èªªæ˜æ–‡ä»¶
â”œâ”€â”€ downloads/             # YouTube ä¸‹è¼‰ç›®éŒ„ï¼ˆè‡ªå‹•å‰µå»ºï¼‰
â”œâ”€â”€ subtitles/             # å­—å¹•è¼¸å‡ºç›®éŒ„ï¼ˆè‡ªå‹•å‰µå»ºï¼‰
â””â”€â”€ output/                # æœ€çµ‚å½±ç‰‡è¼¸å‡ºç›®éŒ„ï¼ˆè‡ªå‹•å‰µå»ºï¼‰
```

## æ³¨æ„äº‹é …

1. **API é…é¡** - Gemini API æœ‰å…è²»é¡åº¦é™åˆ¶ï¼Œå¤§é‡ä½¿ç”¨è«‹æ³¨æ„é…é¡
2. **è™•ç†æ™‚é–“** - é•·å½±ç‰‡è™•ç†æ™‚é–“è¼ƒé•·ï¼Œè«‹è€å¿ƒç­‰å¾…
3. **ç£ç¢Ÿç©ºé–“** - è™•ç†å½±ç‰‡éœ€è¦è¶³å¤ çš„ç£ç¢Ÿç©ºé–“

## æˆæ¬Š

MIT License

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

## æ›´æ–°æ—¥èªŒ

### v1.0.0
- åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- æ”¯æ´ YouTube ä¸‹è¼‰ã€Whisper è½‰éŒ„ã€Gemini AI æ ¡æ­£/ç¿»è­¯
- å¹³è¡Œè™•ç†å’Œæ™ºèƒ½é‡è©¦æ©Ÿåˆ¶
- è‡ªå‹• SRT æ ¼å¼ä¿®æ­£
